<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>농작업 일정 달력</title>
  <link rel="stylesheet" href="./css/recommend.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
<a href="ttokbooMain.html" target="_self">
  <header class="header">
    <img src="img/farmer.png">
    <h3><span>똑</span>부러지는 농<span>부</span>들의 선택</h3>
  </header>
</a>

<header class="title">
  <h1 id="cropName"></h1>
</header><hr>

<section>
  <ul id="activityList1"></ul>
</section>

  <script>
    $(document).ready(function() {
      // URL에서 cntntsNo 매개변수 가져오기
      var urlParams = new URLSearchParams(window.location.search);
      var cntntsNo = urlParams.get('cntntsNo');
      var sj = urlParams.get('sj');

      $("#cropName").text(sj);

      $.ajax({
        url: '/farm/getCalendar?apiKey=20230601JKDXVD39FWGMF0PJBPWMA&cntntsNo=' + cntntsNo,
        method: 'GET',
        dataType: 'json',
        success: function(response) {
          response.forEach(function(activity) {
            $("#activityList1").append(activity);
          });
        },
        error: function(error) {
          console.log(error);
        }
      });
    });

  </script>
<!--<script>-->
<!--  $(document).ready(function() {-->
<!--    // URL에서 cntntsNo 매개변수 가져오기-->
<!--    var urlParams = new URLSearchParams(window.location.search);-->
<!--    var cntntsNo = urlParams.get('cntntsNo');-->

<!--    $.ajax({-->
<!--      url: '/farm/getCalendar',-->
<!--      method: 'GET',-->
<!--      dataType: 'json',-->
<!--      data: {-->
<!--        apiKey: '20230601JKDXVD39FWGMF0PJBPWMA',-->
<!--        cntntsNo: cntntsNo-->
<!--      },-->
<!--      success: function(response) {-->
<!--        var htmlContent = response.htmlContent;-->

<!--        var h2Element = $('<h2>').text('생육과정(주요농작업)'); // 새로운 버튼 요소 생성-->
<!--        var buttonElement = $('<button>').append(h2Element); // 버튼 요소에 <h2> 요소 추가-->

<!--        // 기존의 <h2> 태그를 대체하기 위해 해당 요소를 찾아서 교체-->
<!--        var existingH2Element = $(htmlContent).find('h2'); // 기존의 <h2> 태그 선택-->
<!--        existingH2Element.replaceWith(buttonElement); // 새로운 버튼 요소로 대체-->

<!--        $("#activityList1").append($(htmlContent)); // 수정된 HTML 콘텐츠를 삽입-->
<!--      },-->
<!--      error: function(error) {-->
<!--        console.log(error);-->
<!--      }-->
<!--    });-->
<!--  });-->

<!--</script>-->





</body>
</html>

